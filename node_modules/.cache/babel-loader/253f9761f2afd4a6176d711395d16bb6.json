{"ast":null,"code":"var _jsxFileName = \"/home/streloc84/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/reactsite/whoiam/src/components/commentB/CommentBox.js\";\nimport React, { Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport CommentForm from \"./CommentForm\";\nimport $ from 'jquery';\n\nclass CommentBox extends React.Component {\n  constructor() {\n    super();\n\n    this.loadCommentsFromserver = () => {\n      $.ajax({\n        url: this.props.url,\n        dataType: \"json\",\n        cache: false,\n        success: function (data) {\n          this.setState({\n            data: data\n          });\n          console.log(data);\n        }.bind(this),\n        error: function (xhr, status, err) {\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  getInitialState() {\n    return {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    this.loadCommentsFromserver();\n    setInterval(this.loadCommentsFromserver, this.props.pollInterval);\n  }\n\n  render() {\n    /* var data=[\n        {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\n        {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\n      ]; */\n    return React.createElement(\"div\", {\n      className: \"commentBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Comments\"), React.createElement(CommentList, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(CommentForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CommentBox;","map":{"version":3,"sources":["/home/streloc84/Рабочий стол/reactsite/whoiam/src/components/commentB/CommentBox.js"],"names":["React","Component","CommentList","CommentForm","$","CommentBox","constructor","loadCommentsFromserver","ajax","url","props","dataType","cache","success","data","setState","console","log","bind","error","xhr","status","err","toString","state","getInitialState","componentDidMount","setInterval","pollInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAIA,MAAMC,UAAN,SAAyBL,KAAK,CAACC,SAA/B,CAAwC;AACpCK,EAAAA,WAAW,GAAE;AACT;;AADS,SAObC,sBAPa,GAOU,MAAI;AACvBH,MAAAA,CAAC,CAACI,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAC,KAAKC,KAAL,CAAWD,GADZ;AAEHE,QAAAA,QAAQ,EAAC,MAFN;AAGHC,QAAAA,KAAK,EAAC,KAHH;AAIHC,QAAAA,OAAO,EAAC,UAASC,IAAT,EAAc;AAClB,eAAKC,QAAL,CAAc;AAACD,YAAAA,IAAI,EAACA;AAAN,WAAd;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACH,SAHO,CAGNI,IAHM,CAGD,IAHC,CAJL;AAQHC,QAAAA,KAAK,EAAC,UAASC,GAAT,EAAaC,MAAb,EAAoBC,GAApB,EAAwB;AAC1BN,UAAAA,OAAO,CAACG,KAAR,CAAc,KAAKT,KAAL,CAAWD,GAAzB,EAA6BY,MAA7B,EAAoCC,GAAG,CAACC,QAAJ,EAApC;AACH,SAFK,CAEJL,IAFI,CAEC,IAFD;AARH,OAAP;AAYH,KApBY;;AAET,SAAKM,KAAL,GAAa;AACTV,MAAAA,IAAI,EAAC;AADI,KAAb;AAGD;;AAiBHW,EAAAA,eAAe,GAAE;AACb,WAAO;AAACX,MAAAA,IAAI,EAAC;AAAN,KAAP;AACH;;AAEDY,EAAAA,iBAAiB,GAAG;AAChB,SAAKnB,sBAAL;AACAoB,IAAAA,WAAW,CAAC,KAAKpB,sBAAN,EAA6B,KAAKG,KAAL,CAAWkB,YAAxC,CAAX;AACH;;AAEDC,EAAAA,MAAM,GAAE;AACJ;;;;AAIA,WACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE,KAAKL,KAAL,CAAWV,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH;;AA5CmC;;AA+CxC,eAAeT,UAAf","sourcesContent":["import React,{ Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport CommentForm from \"./CommentForm\";\nimport $ from 'jquery';\n\n\n\nclass CommentBox extends React.Component{\n    constructor(){\n        super()\n        this.state = {\n            data:[]\n        }\n      }\n    \n    loadCommentsFromserver=()=>{\n        $.ajax({\n            url:this.props.url,\n            dataType:\"json\",\n            cache:false,\n            success:function(data){\n                this.setState({data:data});\n                console.log(data);\n            }.bind(this),\n            error:function(xhr,status,err){\n                console.error(this.props.url,status,err.toString());\n            }.bind(this)\n        });\n    }  \n\n    getInitialState(){\n        return {data:[]}\n    }\n\n    componentDidMount (){\n        this.loadCommentsFromserver();\n        setInterval(this.loadCommentsFromserver,this.props.pollInterval);\n    }\n\n    render(){\n        /* var data=[\n            {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\n            {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\n          ]; */\n        return(\n            <div className=\"commentBox\">\n                <h1>Comments</h1>\n                <CommentList data={this.state.data}/>\n                <CommentForm />\n            </div>\n        )\n    }\n}\n\nexport default CommentBox;"]},"metadata":{},"sourceType":"module"}