{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\src\\\\components\\\\Comment.js\";\nimport React, { Component } from 'react';\nimport { format } from 'date-fns';\n\nclass Comment extends Component {\n  constructor() {\n    super();\n\n    this.addComment = () => {\n      this.setState({\n        comments: [...this.state.comments, {\n          id: this.state.comments.length ? this.state.comments.reduce((p, c) => p.id > c.id ? p : c).id + 1 : 1,\n          // max id +1\n          name: this.state.form.name,\n          comment: this.state.form.comment,\n          date: new Date()\n        }],\n        form: {\n          name: '',\n          comment: ''\n        }\n      }, () => localStorage.setItem('state' + this.props.num, JSON.stringify(this.state)));\n    };\n\n    this.removeComment = id => {\n      this.setState({\n        comments: this.state.comments.filter(comment => comment.id !== id)\n      }, () => localStorage.setItem('state' + this.props.num, JSON.stringify(this.state)));\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.name);\n      this.setState({\n        form: _objectSpread({}, this.state.form, {\n          [e.target.name]: e.target.value\n        })\n      });\n    };\n\n    this.state = {\n      comments: [],\n      form: {\n        name: '',\n        comment: ''\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('state')) {\n      this.setState(_objectSpread({}, JSON.parse(localStorage.getItem('state' + this.props.num))));\n    } // eslint-disable-next-line no-useless-escape\n\n\n    const url = \"http://f92768t2.beget.tech/data/data.json\";\n    fetch(url).then(response => response.json()).then(commits => console.log(commits));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.comments.map(comment => React.createElement(\"div\", {\n      key: comment.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontStyle: 'italic'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, comment.id, \" - \", \" \"), React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, comment.name, \": \"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, comment.comment), React.createElement(\"button\", {\n      onClick: this.removeComment.bind(null, comment.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"nameComment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F: \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.form.name,\n      name: \"name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"form-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"textComment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439: \", React.createElement(\"textarea\", {\n      name: \"comment\",\n      value: this.state.form.comment,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      onClick: this.addComment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"))));\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["C:/Users/strel_000/Desktop/визитка на реакт/whoiam/src/components/Comment.js"],"names":["React","Component","format","Comment","constructor","addComment","setState","comments","state","id","length","reduce","p","c","name","form","comment","date","Date","localStorage","setItem","props","num","JSON","stringify","removeComment","filter","handleChange","e","console","log","target","value","componentDidMount","getItem","parse","url","fetch","then","response","json","commits","render","map","fontStyle","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { format } from 'date-fns'\r\n\r\n\r\nclass Comment extends Component {\r\n  constructor(){\r\n    super()\r\n    this.state = {\r\n      comments: [],\r\n      form: {\r\n        name: '',\r\n        comment: ''\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  componentDidMount() {\r\n    if (localStorage.getItem('state')) {\r\n      this.setState({ ...JSON.parse(localStorage.getItem('state'+this.props.num)) })\r\n    }\r\n     // eslint-disable-next-line no-useless-escape\r\n    const url=\"http://f92768t2.beget.tech/data/data.json\";\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(commits => console.log(commits));\r\n  }\r\n \r\n  addComment = () => {\r\n    this.setState({\r\n      comments: [\r\n        ...this.state.comments,\r\n        {\r\n          id: this.state.comments.length ? this.state.comments.reduce((p, c) => p.id > c.id ? p : c).id + 1 : 1, // max id +1\r\n          name: this.state.form.name,\r\n          comment: this.state.form.comment,\r\n          date: new Date()\r\n        }\r\n      ],\r\n      form: {\r\n        name: '',\r\n        comment: ''\r\n      }\r\n    }, \r\n    () => localStorage.setItem('state'+this.props.num, JSON.stringify(this.state)))\r\n  }\r\n \r\n  removeComment = (id) => {\r\n    this.setState({\r\n      comments: this.state.comments.filter(comment => comment.id !== id)\r\n    }, () => localStorage.setItem('state'+this.props.num, JSON.stringify(this.state)))\r\n  }\r\n \r\n  handleChange = (e) => {\r\n    console.log(e.target.name)\r\n    this.setState({\r\n      form: {\r\n        ...this.state.form,\r\n        [e.target.name]: e.target.value,\r\n      }\r\n    })\r\n  }\r\n \r\n  render() {\r\n    return (\r\n      <div className=\"Comment\">\r\n        {this.state.comments.map(comment => <div key={comment.id}>\r\n          <span style={{ fontStyle: 'italic' }}>{comment.id} - {/* format(comment.date, 'dd/mm/yyyy') */} </span>\r\n          <strong>{comment.name}: </strong>\r\n          <span>{comment.comment}</span>\r\n          <button onClick={this.removeComment.bind(null, comment.id)}>Удалить</button>\r\n        </div>)}\r\n        <div>\r\n          <ul className=\"wrapper\">\r\n            <li className=\"form-row\">\r\n            <label className=\"nameComment\">Имя: <input\r\n              type=\"text\"\r\n              value={this.state.form.name}\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              /></label>\r\n            </li>\r\n            <li className=\"form-row\">\r\n            <label className=\"textComment\">Комментарий: <textarea\r\n              name=\"comment\"\r\n              value={this.state.form.comment}\r\n              onChange={this.handleChange}\r\n              ></textarea>\r\n            </label>\r\n            </li>\r\n            <button onClick={this.addComment}>Добавить комментарий</button>\r\n\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n \r\nexport default Comment\r\n"]},"metadata":{},"sourceType":"module"}