{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{format}from'date-fns';var Comment=/*#__PURE__*/function(_Component){_inherits(Comment,_Component);function Comment(){var _this;_classCallCheck(this,Comment);_this=_possibleConstructorReturn(this,_getPrototypeOf(Comment).call(this));_this.addComment=function(){_this.setState({comments:[].concat(_toConsumableArray(_this.state.comments),[{id:_this.state.comments.length?_this.state.comments.reduce(function(p,c){return p.id>c.id?p:c;}).id+1:1,// max id +1\nname:_this.state.form.name,comment:_this.state.form.comment,date:new Date()}]),form:{name:'',comment:''}},function(){return localStorage.setItem('state'+_this.props.num,JSON.stringify(_this.state));});};_this.removeComment=function(id){_this.setState({comments:_this.state.comments.filter(function(comment){return comment.id!==id;})},function(){return localStorage.setItem('state'+_this.props.num,JSON.stringify(_this.state));});};_this.handleChange=function(e){console.log(e.target.name);_this.setState({form:_objectSpread({},_this.state.form,_defineProperty({},e.target.name,e.target.value))});};_this.state={comments:[],form:{name:'',comment:''}};return _this;}_createClass(Comment,[{key:\"componentDidMount\",value:function componentDidMount(){if(localStorage.getItem('state')){this.setState(_objectSpread({},JSON.parse(localStorage.getItem('state'+this.props.num))));}// eslint-disable-next-line no-useless-escape\nvar url=\"https://github.com/streloc84/streloc84.github.io/tree/gh-pages/data/data.json\";fetch(url).then(function(response){return response.json();}).then(function(commits){return console.log(commits);});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"Comment\"},this.state.comments.map(function(comment){return React.createElement(\"div\",{key:comment.id},React.createElement(\"span\",{style:{fontStyle:'italic'}},comment.id,\" - \",\" \"),React.createElement(\"strong\",null,comment.name,\": \"),React.createElement(\"span\",null,comment.comment),React.createElement(\"button\",{onClick:_this2.removeComment.bind(null,comment.id)},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"));}),React.createElement(\"div\",null,React.createElement(\"ul\",{className:\"wrapper\"},React.createElement(\"li\",{className:\"form-row\"},React.createElement(\"label\",{className:\"nameComment\"},\"\\u0418\\u043C\\u044F: \",React.createElement(\"input\",{type:\"text\",value:this.state.form.name,name:\"name\",onChange:this.handleChange}))),React.createElement(\"li\",{className:\"form-row\"},React.createElement(\"label\",{className:\"textComment\"},\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439: \",React.createElement(\"textarea\",{name:\"comment\",value:this.state.form.comment,onChange:this.handleChange}))),React.createElement(\"button\",{onClick:this.addComment},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\"))));}}]);return Comment;}(Component);export default Comment;","map":{"version":3,"sources":["C:/Users/strel_000/Desktop/визитка на реакт/whoiam/src/components/Comment.js"],"names":["React","Component","format","Comment","addComment","setState","comments","state","id","length","reduce","p","c","name","form","comment","date","Date","localStorage","setItem","props","num","JSON","stringify","removeComment","filter","handleChange","e","console","log","target","value","getItem","parse","url","fetch","then","response","json","commits","map","fontStyle","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { format } from 'date-fns'\r\n\r\n\r\nclass Comment extends Component {\r\n  constructor(){\r\n    super()\r\n    this.state = {\r\n      comments: [],\r\n      form: {\r\n        name: '',\r\n        comment: ''\r\n      }\r\n    }\r\n  }\r\n  \r\n  \r\n  componentDidMount() {\r\n    if (localStorage.getItem('state')) {\r\n      this.setState({ ...JSON.parse(localStorage.getItem('state'+this.props.num)) })\r\n    }\r\n     // eslint-disable-next-line no-useless-escape\r\n    const url=\"https://github.com/streloc84/streloc84.github.io/tree/gh-pages/data/data.json\";\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(commits => console.log(commits));\r\n  }\r\n \r\n  addComment = () => {\r\n    this.setState({\r\n      comments: [\r\n        ...this.state.comments,\r\n        {\r\n          id: this.state.comments.length ? this.state.comments.reduce((p, c) => p.id > c.id ? p : c).id + 1 : 1, // max id +1\r\n          name: this.state.form.name,\r\n          comment: this.state.form.comment,\r\n          date: new Date()\r\n        }\r\n      ],\r\n      form: {\r\n        name: '',\r\n        comment: ''\r\n      }\r\n    }, \r\n    () => localStorage.setItem('state'+this.props.num, JSON.stringify(this.state)))\r\n  }\r\n \r\n  removeComment = (id) => {\r\n    this.setState({\r\n      comments: this.state.comments.filter(comment => comment.id !== id)\r\n    }, () => localStorage.setItem('state'+this.props.num, JSON.stringify(this.state)))\r\n  }\r\n \r\n  handleChange = (e) => {\r\n    console.log(e.target.name)\r\n    this.setState({\r\n      form: {\r\n        ...this.state.form,\r\n        [e.target.name]: e.target.value,\r\n      }\r\n    })\r\n  }\r\n \r\n  render() {\r\n    return (\r\n      <div className=\"Comment\">\r\n        {this.state.comments.map(comment => <div key={comment.id}>\r\n          <span style={{ fontStyle: 'italic' }}>{comment.id} - {/* format(comment.date, 'dd/mm/yyyy') */} </span>\r\n          <strong>{comment.name}: </strong>\r\n          <span>{comment.comment}</span>\r\n          <button onClick={this.removeComment.bind(null, comment.id)}>Удалить</button>\r\n        </div>)}\r\n        <div>\r\n          <ul className=\"wrapper\">\r\n            <li className=\"form-row\">\r\n            <label className=\"nameComment\">Имя: <input\r\n              type=\"text\"\r\n              value={this.state.form.name}\r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              /></label>\r\n            </li>\r\n            <li className=\"form-row\">\r\n            <label className=\"textComment\">Комментарий: <textarea\r\n              name=\"comment\"\r\n              value={this.state.form.comment}\r\n              onChange={this.handleChange}\r\n              ></textarea>\r\n            </label>\r\n            </li>\r\n            <button onClick={this.addComment}>Добавить комментарий</button>\r\n\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n \r\nexport default Comment\r\n"]},"metadata":{},"sourceType":"module"}