{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import CommentList from\"./CommentList\";import CommentForm from\"./CommentForm\";import $ from'jquery';var CommentBox=/*#__PURE__*/function(_React$Component){_inherits(CommentBox,_React$Component);function CommentBox(){var _this;_classCallCheck(this,CommentBox);_this=_possibleConstructorReturn(this,_getPrototypeOf(CommentBox).call(this));_this.loadCommentsFromserver=function(){$.ajax({url:_this.props.url,dataType:\"json\",cache:false,success:function(data){this.setState({data:data});}.bind(_assertThisInitialized(_this)),error:function(xhr,status,err){console.error(this.props.url,status,err.toString());}.bind(_assertThisInitialized(_this))});};_this.handleCommentsubmit=function(comment){$.ajax({url:_this.props.url,dataType:\"json\",type:\"POST\",data:comment,success:function(data){this.setState({data:data});}.bind(_assertThisInitialized(_this)),error:function(xhr,status,err){console.error(this.props.url,status,err.toString());console.log(\"ERRROR\");}.bind(_assertThisInitialized(_this))});};_this.state={data:[]};return _this;}_createClass(CommentBox,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadCommentsFromserver();setInterval(this.loadCommentsFromserver,this.props.pollInterval);}},{key:\"render\",value:function render(){/* var data=[\r\n            {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\r\n            {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\r\n          ]; */return React.createElement(\"div\",{className:\"commentBox\"},React.createElement(\"h1\",null,\"Comments\"),React.createElement(CommentList,{data:this.state.data}),React.createElement(CommentForm,{onCommentSubmit:this.handleCommentsubmit}));}}]);return CommentBox;}(React.Component);export default CommentBox;","map":{"version":3,"sources":["C:/Users/strel_000/Desktop/визитка на реакт/whoiam/src/components/commentB/CommentBox.js"],"names":["React","Component","CommentList","CommentForm","$","CommentBox","loadCommentsFromserver","ajax","url","props","dataType","cache","success","data","setState","bind","error","xhr","status","err","console","toString","handleCommentsubmit","comment","type","log","state","setInterval","pollInterval"],"mappings":"gxCAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,GAIMC,CAAAA,U,gFACF,qBAAa,4CACT,8EADS,MAObC,sBAPa,CAOU,UAAI,CACvBF,CAAC,CAACG,IAAF,CAAO,CACHC,GAAG,CAAC,MAAKC,KAAL,CAAWD,GADZ,CAEHE,QAAQ,CAAC,MAFN,CAGHC,KAAK,CAAC,KAHH,CAIHC,OAAO,CAAC,SAASC,IAAT,CAAc,CAClB,KAAKC,QAAL,CAAc,CAACD,IAAI,CAACA,IAAN,CAAd,EAEH,CAHO,CAGNE,IAHM,+BAJL,CAQHC,KAAK,CAAC,SAASC,GAAT,CAAaC,MAAb,CAAoBC,GAApB,CAAwB,CAC1BC,OAAO,CAACJ,KAAR,CAAc,KAAKP,KAAL,CAAWD,GAAzB,CAA6BU,MAA7B,CAAoCC,GAAG,CAACE,QAAJ,EAApC,EACH,CAFK,CAEJN,IAFI,+BARH,CAAP,EAYH,CApBY,OAyBbO,mBAzBa,CAyBO,SAACC,OAAD,CAAW,CAC3BnB,CAAC,CAACG,IAAF,CAAO,CACHC,GAAG,CAAC,MAAKC,KAAL,CAAWD,GADZ,CAEHE,QAAQ,CAAC,MAFN,CAGHc,IAAI,CAAC,MAHF,CAIHX,IAAI,CAACU,OAJF,CAKHX,OAAO,CAAC,SAASC,IAAT,CAAc,CAClB,KAAKC,QAAL,CAAc,CAACD,IAAI,CAACA,IAAN,CAAd,EACH,CAFO,CAENE,IAFM,+BALL,CAQHC,KAAK,CAAC,SAASC,GAAT,CAAaC,MAAb,CAAoBC,GAApB,CAAwB,CAC1BC,OAAO,CAACJ,KAAR,CAAc,KAAKP,KAAL,CAAWD,GAAzB,CAA6BU,MAA7B,CAAqCC,GAAG,CAACE,QAAJ,EAArC,EACAD,OAAO,CAACK,GAAR,CAAY,QAAZ,EACH,CAHK,CAGJV,IAHI,+BARH,CAAP,EAaH,CAvCY,CAET,MAAKW,KAAL,CAAa,CACTb,IAAI,CAAC,EADI,CAAb,CAFS,aAKV,C,oFAmCiB,CAChB,KAAKP,sBAAL,GACAqB,WAAW,CAAC,KAAKrB,sBAAN,CAA6B,KAAKG,KAAL,CAAWmB,YAAxC,CAAX,CACH,C,uCAEO,CACJ;;;eAIA,MACI,4BAAK,SAAS,CAAC,YAAf,EACI,yCADJ,CAEI,oBAAC,WAAD,EAAa,IAAI,CAAE,KAAKF,KAAL,CAAWb,IAA9B,EAFJ,CAGI,oBAAC,WAAD,EAAa,eAAe,CAAE,KAAKS,mBAAnC,EAHJ,CADJ,CAOH,C,wBA1DoBtB,KAAK,CAACC,S,EA6D/B,cAAeI,CAAAA,UAAf","sourcesContent":["import React,{ Component } from \"react\";\r\nimport CommentList from \"./CommentList\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport $ from 'jquery';\r\n\r\n\r\n\r\nclass CommentBox extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            data:[]\r\n        }\r\n      }\r\n    \r\n    loadCommentsFromserver=()=>{\r\n        $.ajax({\r\n            url:this.props.url,\r\n            dataType:\"json\",\r\n            cache:false,\r\n            success:function(data){\r\n                this.setState({data:data});\r\n                \r\n            }.bind(this),\r\n            error:function(xhr,status,err){\r\n                console.error(this.props.url,status,err.toString());\r\n            }.bind(this)\r\n        });\r\n    }  \r\n\r\n    /* getInitialState(){\r\n        return {data:[]}\r\n    } */\r\n    handleCommentsubmit=(comment)=>{\r\n        $.ajax({\r\n            url:this.props.url,\r\n            dataType:\"json\",\r\n            type:\"POST\",\r\n            data:comment,\r\n            success:function(data){\r\n                this.setState({data:data});\r\n            }.bind(this),\r\n            error:function(xhr,status,err){\r\n                console.error(this.props.url,status, err.toString());\r\n                console.log(\"ERRROR\");\r\n            }.bind(this)\r\n        })\r\n    }\r\n    componentDidMount (){\r\n        this.loadCommentsFromserver();\r\n        setInterval(this.loadCommentsFromserver,this.props.pollInterval);\r\n    }\r\n\r\n    render(){\r\n        /* var data=[\r\n            {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\r\n            {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\r\n          ]; */\r\n        return(\r\n            <div className=\"commentBox\">\r\n                <h1>Comments</h1>\r\n                <CommentList data={this.state.data}/>\r\n                <CommentForm onCommentSubmit={this.handleCommentsubmit}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CommentBox;"]},"metadata":{},"sourceType":"module"}