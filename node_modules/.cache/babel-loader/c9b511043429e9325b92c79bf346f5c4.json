{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\strel_000\\\\Desktop\\\\\\u0432\\u0438\\u0437\\u0438\\u0442\\u043A\\u0430 \\u043D\\u0430 \\u0440\\u0435\\u0430\\u043A\\u0442\\\\whoiam\\\\src\\\\components\\\\commentB\\\\CommentBox.js\";\nimport React, { Component } from \"react\";\nimport CommentList from \"./CommentList\";\nimport CommentForm from \"./CommentForm\";\nimport $ from 'jquery';\n\nclass CommentBox extends React.Component {\n  constructor() {\n    super();\n\n    this.loadCommentsFromserver = () => {\n      $.ajax({\n        url: this.props.url,\n        dataType: \"json\",\n        cache: false,\n        success: function (data) {\n          this.setState({\n            data: data\n          });\n        }.bind(this),\n        error: function (xhr, status, err) {\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    };\n\n    this.handleCommentsubmit = comment => {\n      $.ajax({\n        url: this.props.url,\n        dataType: \"json\",\n        type: \"POST\",\n        data: \"11\",\n        success: function (data) {\n          this.setState({\n            data: data\n          });\n        }.bind(this),\n        error: function (xhr, status, err) {\n          console.error(this.props.url, status, err.toString());\n        }.bind(this)\n      });\n    };\n\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    this.loadCommentsFromserver();\n    setInterval(this.loadCommentsFromserver, this.props.pollInterval);\n  }\n\n  render() {\n    /* var data=[\r\n        {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\r\n        {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\r\n      ]; */\n    return React.createElement(\"div\", {\n      className: \"commentBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Comments\"), React.createElement(CommentList, {\n      data: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(CommentForm, {\n      onCommentSubmit: this.handleCommentsubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default CommentBox;","map":{"version":3,"sources":["C:/Users/strel_000/Desktop/визитка на реакт/whoiam/src/components/commentB/CommentBox.js"],"names":["React","Component","CommentList","CommentForm","$","CommentBox","constructor","loadCommentsFromserver","ajax","url","props","dataType","cache","success","data","setState","bind","error","xhr","status","err","console","toString","handleCommentsubmit","comment","type","state","componentDidMount","setInterval","pollInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAIA,MAAMC,UAAN,SAAyBL,KAAK,CAACC,SAA/B,CAAwC;AACpCK,EAAAA,WAAW,GAAE;AACT;;AADS,SAObC,sBAPa,GAOU,MAAI;AACvBH,MAAAA,CAAC,CAACI,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAC,KAAKC,KAAL,CAAWD,GADZ;AAEHE,QAAAA,QAAQ,EAAC,MAFN;AAGHC,QAAAA,KAAK,EAAC,KAHH;AAIHC,QAAAA,OAAO,EAAC,UAASC,IAAT,EAAc;AAClB,eAAKC,QAAL,CAAc;AAACD,YAAAA,IAAI,EAACA;AAAN,WAAd;AAEH,SAHO,CAGNE,IAHM,CAGD,IAHC,CAJL;AAQHC,QAAAA,KAAK,EAAC,UAASC,GAAT,EAAaC,MAAb,EAAoBC,GAApB,EAAwB;AAC1BC,UAAAA,OAAO,CAACJ,KAAR,CAAc,KAAKP,KAAL,CAAWD,GAAzB,EAA6BU,MAA7B,EAAoCC,GAAG,CAACE,QAAJ,EAApC;AACH,SAFK,CAEJN,IAFI,CAEC,IAFD;AARH,OAAP;AAYH,KApBY;;AAAA,SAyBbO,mBAzBa,GAyBQC,OAAD,IAAW;AAC3BpB,MAAAA,CAAC,CAACI,IAAF,CAAO;AACHC,QAAAA,GAAG,EAAC,KAAKC,KAAL,CAAWD,GADZ;AAEHE,QAAAA,QAAQ,EAAC,MAFN;AAGHc,QAAAA,IAAI,EAAC,MAHF;AAIHX,QAAAA,IAAI,EAAC,IAJF;AAKHD,QAAAA,OAAO,EAAC,UAASC,IAAT,EAAc;AAClB,eAAKC,QAAL,CAAc;AAACD,YAAAA,IAAI,EAACA;AAAN,WAAd;AACH,SAFO,CAENE,IAFM,CAED,IAFC,CALL;AAQHC,QAAAA,KAAK,EAAC,UAASC,GAAT,EAAaC,MAAb,EAAoBC,GAApB,EAAwB;AAC1BC,UAAAA,OAAO,CAACJ,KAAR,CAAc,KAAKP,KAAL,CAAWD,GAAzB,EAA6BU,MAA7B,EAAqCC,GAAG,CAACE,QAAJ,EAArC;AACH,SAFK,CAEJN,IAFI,CAEC,IAFD;AARH,OAAP;AAYH,KAtCY;;AAET,SAAKU,KAAL,GAAa;AACTZ,MAAAA,IAAI,EAAC;AADI,KAAb;AAGD;;AAkCHa,EAAAA,iBAAiB,GAAG;AAChB,SAAKpB,sBAAL;AACAqB,IAAAA,WAAW,CAAC,KAAKrB,sBAAN,EAA6B,KAAKG,KAAL,CAAWmB,YAAxC,CAAX;AACH;;AAEDC,EAAAA,MAAM,GAAE;AACJ;;;;AAIA,WACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWZ,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,WAAD;AAAa,MAAA,eAAe,EAAE,KAAKS,mBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ;AAOH;;AAzDmC;;AA4DxC,eAAelB,UAAf","sourcesContent":["import React,{ Component } from \"react\";\r\nimport CommentList from \"./CommentList\";\r\nimport CommentForm from \"./CommentForm\";\r\nimport $ from 'jquery';\r\n\r\n\r\n\r\nclass CommentBox extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            data:[]\r\n        }\r\n      }\r\n    \r\n    loadCommentsFromserver=()=>{\r\n        $.ajax({\r\n            url:this.props.url,\r\n            dataType:\"json\",\r\n            cache:false,\r\n            success:function(data){\r\n                this.setState({data:data});\r\n                \r\n            }.bind(this),\r\n            error:function(xhr,status,err){\r\n                console.error(this.props.url,status,err.toString());\r\n            }.bind(this)\r\n        });\r\n    }  \r\n\r\n    /* getInitialState(){\r\n        return {data:[]}\r\n    } */\r\n    handleCommentsubmit=(comment)=>{\r\n        $.ajax({\r\n            url:this.props.url,\r\n            dataType:\"json\",\r\n            type:\"POST\",\r\n            data:\"11\",\r\n            success:function(data){\r\n                this.setState({data:data});\r\n            }.bind(this),\r\n            error:function(xhr,status,err){\r\n                console.error(this.props.url,status, err.toString());\r\n            }.bind(this)\r\n        })\r\n    }\r\n    componentDidMount (){\r\n        this.loadCommentsFromserver();\r\n        setInterval(this.loadCommentsFromserver,this.props.pollInterval);\r\n    }\r\n\r\n    render(){\r\n        /* var data=[\r\n            {id:1, author:\"Pete Hunt\", text:\"This is one comment\"},\r\n            {id:2, author:\"Jordan Walke\", text:\"This is another comment\"}\r\n          ]; */\r\n        return(\r\n            <div className=\"commentBox\">\r\n                <h1>Comments</h1>\r\n                <CommentList data={this.state.data}/>\r\n                <CommentForm onCommentSubmit={this.handleCommentsubmit}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CommentBox;"]},"metadata":{},"sourceType":"module"}